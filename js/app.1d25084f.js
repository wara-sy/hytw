(function(){var t={1811:function(t,e,a){var r,i,n;(function(s,o){i=[e,a(3574)],r=o,n="function"===typeof r?r.apply(e,i):r,void 0===n||(t.exports=n)})(0,(function(t,e){var a=function(t){"undefined"!==typeof console&&console&&console.error&&console.error(t)};if(e){var r=["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d","#787464","#cc7e63","#724e58","#4b565b"];e.registerTheme("vintage",{color:r,backgroundColor:"#fef8ef",graph:{color:r}})}else a("ECharts is not Loaded")}))},3326:function(t,e,a){"use strict";var r=a(5130),i=a(3858),n=a(973),s=a(2856),o=a(8283),c=a(9915),l=a(6833),h=a(1420);const u=[{path:"/",name:"home",component:()=>Promise.resolve().then(a.bind(a,3858))},{path:"/view-one",name:"view-one",component:s.A},{path:"/view-two",name:"view-two",component:o.A},{path:"/view-three",name:"view-three",component:c.A},{path:"/class-sun",name:"/class-sun",component:l.A},{path:"/class-num",name:"/class-num",component:h.A}],d=(0,n.aE)({history:(0,n.Bt)(),routes:u});var p=d,m=a(5090);const g=(0,r.Ef)(i["default"]);g.config.globalProperties.$echarts=m,g.use(p),g.mount("#app")},3858:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return S}});var r=a(6768),i=a(4232);const n={id:"app",class:"app-container"},s={class:"intro-section"},o={class:"view-section"},c={class:"first-column",ref:"viewOne"},l={class:"second-column",ref:"viewTwo"},h={class:"third-column",ref:"viewThree"},u={class:"links-section"},d={class:"link-container"},p=["href"],m=["src","alt"],g={class:"link-title"},f=["href"],v=["src","alt"],C={class:"link-title"};function k(t,e,a,k,L,y){const b=(0,r.g2)("ViewOne"),w=(0,r.g2)("ViewTwo"),x=(0,r.g2)("ViewThree");return(0,r.uX)(),(0,r.CE)("div",n,[(0,r.Lk)("section",{class:"home-section",style:(0,i.Tr)(k.homeSectionStyle)},e[3]||(e[3]=[(0,r.Lk)("h1",{class:"home-title",style:{"font-family":"'楷体', serif","font-size":"4em",color:"white","text-shadow":"2px 2px 4px rgba(0, 0, 0, 0.5)"}},"红缘探微——红楼梦人物关系可视化",-1),(0,r.Lk)("p",{class:"home-subtitle",style:{"font-family":"'楷体', serif","font-size":"2em",color:"white","text-shadow":"1px 1px 2px rgba(0, 0, 0, 0.3)"}},"探索《红楼梦》中错综复杂的人物关系及社会阶级状况",-1)]),4),(0,r.Lk)("section",s,[(0,r.Lk)("div",{class:"intro-item",onClick:e[0]||(e[0]=t=>y.scrollTo("viewOne"))},e[4]||(e[4]=[(0,r.Lk)("h2",null,"人物简介",-1),(0,r.Lk)("p",null,"深入了解《红楼梦》中的主要人物及其背景，揭示他们在故事中的活跃度。",-1)])),(0,r.Lk)("div",{class:"intro-item",onClick:e[1]||(e[1]=t=>y.scrollTo("viewTwo"))},e[5]||(e[5]=[(0,r.Lk)("h2",null,"人物关系网",-1),(0,r.Lk)("p",null,"利用人物关系网，分析人物之间的关系，揭示《红楼梦》中错综复杂的亲情、友情与爱情。",-1)])),(0,r.Lk)("div",{class:"intro-item",onClick:e[2]||(e[2]=t=>y.scrollTo("viewThree"))},e[6]||(e[6]=[(0,r.Lk)("h2",null,"人物社会阶级",-1),(0,r.Lk)("p",null,"探索《红楼梦》背景下的社会阶层分布，分析封建社会的阶级构成。",-1)]))]),(0,r.Lk)("section",o,[(0,r.Lk)("div",c,[(0,r.bF)(b)],512),(0,r.Lk)("div",l,[(0,r.bF)(w)],512),(0,r.Lk)("div",h,[(0,r.bF)(x)],512)]),(0,r.Lk)("section",u,[(0,r.Lk)("div",d,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(k.links,((t,e)=>((0,r.uX)(),(0,r.CE)("div",{class:"link-item",key:e},[(0,r.Lk)("a",{href:t.url,target:"_blank",class:"link-anchor"},[(0,r.Lk)("img",{src:t.image,alt:t.title,class:"link-image"},null,8,m),(0,r.Lk)("h3",g,(0,i.v_)(t.title),1)],8,p)])))),128)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(k.links,((t,e)=>((0,r.uX)(),(0,r.CE)("div",{class:"link-item",key:`clone-${e}`},[(0,r.Lk)("a",{href:t.url,target:"_blank",class:"link-anchor"},[(0,r.Lk)("img",{src:t.image,alt:t.title,class:"link-image"},null,8,v),(0,r.Lk)("h3",C,(0,i.v_)(t.title),1)],8,f)])))),128))])])])}var L=a(144),y=a(2856),b=a(8283),w=a(9915);const x=["ALL.jpg","ALL1.jpg","ALL2.jpg","ALL3.jpg","ALL4.jpg","ALL5.jpg","ALL6.jpg","ALL7.jpg"],A=(0,L.KR)(0);var j={name:"app",components:{ViewOne:y.A,ViewTwo:b.A,ViewThree:w.A},setup(){const t=(0,r.EW)((()=>({backgroundImage:`url(${a(290)(`./${x[A.value]}`)})`}))),e=(0,L.KR)([{title:"红楼梦人物详解",image:a(8375),url:"https://baijiahao.baidu.com/s?id=1794650367122142272"},{title:"红楼梦社会背景分析",image:a(8392),url:"https://zhuanlan.zhihu.com/p/544969639"},{title:"红楼梦诗词鉴赏",image:a(2709),url:"https://www.gushicimingju.com/gushi/hongloumengshici/"},{title:"红楼梦百度百科",image:a(7086),url:"https://baike.baidu.com/item/%E7%BA%A2%E6%A5%BC%E6%A2%A6/15311"},{title:"红楼梦87年版电视剧",image:a(1483),url:"https://www.bilibili.com/bangumi/play/ep327843?bsource=bing_ogv"},{title:"红楼梦小说全集",image:a(6828),url:"https://hongloumeng.5000yan.com/"},{title:"深度解读《红楼梦》：人性洞察",image:a(7353),url:"https://www.sohu.com/a/455254361_661905"},{title:"从多个角度解读人生和世界的哲学巨作",image:a(2866),url:"https://baijiahao.baidu.com/s?id=1781222836422610802"}]),i=()=>{A.value=(A.value+1)%x.length},n=setInterval(i,3e3);return(0,r.sV)((()=>{document.querySelector(".app-container").style.opacity=1})),(0,r.hi)((()=>{clearInterval(n)})),{homeSectionStyle:t,changeBackground:i,intervalId:n,links:e}},methods:{scrollTo(t){const e=this.$refs[t];e&&e.scrollIntoView({behavior:"smooth"})}}},D=a(1241);const F=(0,D.A)(j,[["render",k],["__scopeId","data-v-497bf37c"]]);var S=F},1420:function(t,e,a){"use strict";a.d(e,{A:function(){return u}});var r=a(6768);const i={id:"main",ref:"main",style:{width:"100%",height:"800px"}};function n(t,e,a,n,s,o){return(0,r.uX)(),(0,r.CE)("div",i,null,512)}a(1454);var s=a(5090),o=JSON.parse('{"legend":["贾府","史府","王府","薛府","非四大家族"],"xAxisData":["家族直系男性","家族直系女性","家族旁系男性","家族旁系女性","妾室","管家","丫鬟仆人","皇室男性","皇室女性","百姓","商人","其它"],"seriesData":[{"name":"贾府","data":[21,20,26,25,4,15,153,0,0,2,0,0]},{"name":"史府","data":[3,1,0,0,0,0,0,0,0,0,0,0]},{"name":"王府","data":[4,1,1,0,0,0,0,0,0,0,0,0]},{"name":"薛府","data":[3,5,1,0,0,0,2,0,0,0,0,0]},{"name":"非四大家族","data":[4,2,3,3,1,0,5,30,13,107,10,7]}]}'),c={name:"class-num",data(){return{chartData:o}},mounted(){this.initChart(),window.addEventListener("resize",this.resizeChart)},beforeUnmount(){window.removeEventListener("resize",this.resizeChart)},methods:{initChart(){const t=this.$refs.main,e=s.init(t),a=this.getOption();e.setOption(a)},resizeChart(){const t=s.init(this.$refs.main);t&&t.resize()},getOption(){const{legend:t,xAxisData:e,seriesData:a}=this.chartData,r={show:!0,position:"inside",formatter:t=>0!==t.value?t.value:""},i=["#961c1c","#d97319","#cd9c20","#adc534","#678435"],n={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:t.map(((t,e)=>({name:t,itemStyle:{color:i[e%i.length],borderColor:"#fff",borderWidth:1}})))},toolbox:{show:!0,orient:"vertical",left:"right",top:"center",feature:{mark:{show:!0},magicType:{show:!0,type:["line","bar","stack"]},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:[{type:"category",axisTick:{show:!1},data:e,axisLabel:{interval:0,rotate:45,margin:10,textStyle:{color:"#333"}}}],yAxis:[{type:"value"}],series:a.map(((t,e)=>({name:t.name,type:"bar",label:r,itemStyle:{color:i[e%i.length]},data:t.data})))};return n}}},l=a(1241);const h=(0,l.A)(c,[["render",n]]);var u=h},6833:function(t,e,a){"use strict";a.d(e,{A:function(){return u}});var r=a(6768);const i={id:"main-s",style:{width:"100%",height:"100%","background-color":"#F5F5DC"}};function n(t,e,a,n,s,o){return(0,r.uX)(),(0,r.CE)("div",i)}a(8992),a(3949);var s=a(5090),o=a(4373),c={name:"class-sun",data(){return{chartData:null}},mounted(){this.fetchData().then((()=>{this.initChart()}))},methods:{addValueToNodes(t){t.children?t.children.forEach((t=>this.addValueToNodes(t))):(t.value=t.value||1,t.label={show:!1,position:"outside"})},async fetchData(){try{const t=await o.A.get("/data_class.json");this.chartData=t.data,this.chartData.forEach((t=>this.addValueToNodes(t)))}catch(t){console.error("数据加载失败:",t)}},initChart(){if(this.chartData){var t=document.getElementById("main-s"),e=s.init(t,null,{renderer:"canvas"});t.style.height=.8*window.innerHeight+"px";var a={tooltip:{trigger:"item",formatter:function(t){return t.data.children?t.name:""}},series:{type:"sunburst",data:this.chartData,radius:[0,"90%"],sort:void 0,emphasis:{focus:"ancestor",label:{show:!0,fontSize:14}},label:{fontSize:10},color:["#d73624","#e44515f1","#d97319","#cd9c20","#adc534","#678435"],levels:[{r0:"0%",r:"20%",label:{silent:!0}},{r0:"20%",r:"45%",itemStyle:{borderWidth:2},label:{rotate:"tangential"}},{r0:"45%",r:"70%",label:{rotate:"tangential"}},{r0:"70%",r:"85%",label:{rotate:"tangential"}},{r0:"85%",r:"90%",label:{silent:!0},itemStyle:{borderWidth:1}}]}};e.setOption(a)}}}},l=a(1241);const h=(0,l.A)(c,[["render",n],["__scopeId","data-v-21cb34a7"]]);var u=h},2856:function(t,e,a){"use strict";a.d(e,{A:function(){return R}});var r=a(6768),i=a(4232);const n={id:"view-one",style:{"background-color":"#F5F5DC"}},s={class:"container"},o={class:"left-column"},c={class:"button-container"},l={class:"button-family"},h=["onClick"],u={class:"right-column"},d={class:"line-chart"};function p(t,e,a,p,m,g){const f=(0,r.g2)("AppearanceCount"),v=(0,r.g2)("CharactersIntro"),C=(0,r.g2)("CharacterLineChart");return(0,r.uX)(),(0,r.CE)("div",n,[e[4]||(e[4]=(0,r.Lk)("div",{class:"tittle"},[(0,r.Lk)("h1",null,"人物简介与活跃度"),(0,r.Lk)("p",null,"世事如棋，局局新。观人物之浮沉，知世事之变迁。")],-1)),(0,r.Lk)("div",s,[(0,r.Lk)("div",o,[(0,r.bF)(f,{ref:"appearanceCount",onCharacterSelected:g.handleCharacterSelected},null,8,["onCharacterSelected"]),(0,r.Lk)("div",c,[(0,r.Lk)("button",{onClick:e[0]||(e[0]=t=>g.filterData(0,100))},"非重点角色：0-100次"),(0,r.Lk)("button",{onClick:e[1]||(e[1]=t=>g.filterData(100,1e3))},"次要角色：100-1000次"),(0,r.Lk)("button",{onClick:e[2]||(e[2]=t=>g.filterData(1e3,2e3))},"重点角色：1000-4300次"),(0,r.Lk)("button",{onClick:e[3]||(e[3]=(...t)=>g.resetFilter&&g.resetFilter(...t))},"重置筛选")]),(0,r.Lk)("div",l,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(m.families,(t=>((0,r.uX)(),(0,r.CE)("button",{key:t,class:(0,i.C4)(["family-"+t.replace(/ /g,"-"),{selected:m.selectedFamilies.includes(t)}]),onClick:e=>g.toggleFamilySelection(t)},(0,i.v_)(t),11,h)))),128))])]),(0,r.Lk)("div",u,[(0,r.bF)(v,{selectedCharacter:m.selectedCharacter},null,8,["selectedCharacter"]),(0,r.Lk)("div",d,[m.selectedCharacter?((0,r.uX)(),(0,r.Wv)(C,{key:0,selectedCharacter:m.selectedCharacter},null,8,["selectedCharacter"])):(0,r.Q3)("",!0)])])])])}a(4114);function m(t,e,a,i,n,s){return(0,r.uX)(),(0,r.CE)("div",null,e[0]||(e[0]=[(0,r.Lk)("div",{id:"scatterChart",style:{width:"100%",height:"400px",float:"left","background-color":"#F5F5DC"}},null,-1)]))}a(8992),a(4520),a(1454);var g=a(5090),f={data(){return{originalData:[],chartData:[],scatterChart:null,familyColors:{"贾府":"#961c1c","贾府-宁国府":"#d73624","贾府-荣国府":"#e44515f1","史府":"#d97319","王府":"#cd9c20","薛府":"#adc534","非四大家族":"#678435"}}},mounted(){this.loadChartData()},methods:{loadChartData(){fetch("/data_character.json").then((t=>t.json())).then((t=>{this.originalData=t.map((t=>[t.FirstAppearanceChapter,t.AppearanceCount,t.name,t.Family])),this.chartData=[...this.originalData],this.$nextTick((()=>{this.scatterChart=g.init(document.getElementById("scatterChart")),this.updateScatterChart()}))})).catch((t=>console.error("加载数据失败:",t)))},updateScatterChart(){const t={title:{text:"人物活跃度",x:"center"},tooltip:{trigger:"item",formatter:t=>`${t.data[2]}:${t.data[1]} 次 <br> 家族：${t.data[3]}`,backgroundColor:"rgba(0, 0, 0, 0.7)",textStyle:{color:"#FFFFFF"}},xAxis:{type:"value",name:"首次章节"},yAxis:{type:"value",name:"出现频次"},series:[{type:"scatter",data:this.chartData,itemStyle:{color:t=>this.familyColors[t.data[3]]||"#D3D3D3"},symbolSize:15,emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)",color:"#fcce10"}}}]};this.scatterChart.setOption(t),this.scatterChart.on("click",(t=>{const e=t.data[2];this.$emit("character-selected",e)}))},filterData(t,e,a){a&&0!==a.length?this.chartData=this.originalData.filter((r=>{const i=r[1],n=r[3];return i>=t&&i<=e&&a.includes(n)})):this.chartData=this.originalData.filter((a=>a[1]>=t&&a[1]<=e)),this.updateScatterChart()},resetFilter(){this.chartData=[...this.originalData],this.updateScatterChart()}},beforeUnmount(){this.scatterChart&&this.scatterChart.dispose()}},v=a(1241);const C=(0,v.A)(f,[["render",m]]);var k=C;const L={class:"container"},y={class:"left-column"},b={class:"right-column"},w={class:"avatar-intro"},x=["src"],A={class:"intro"},j={class:"person-count"};function D(t,e,a,n,s,o){const c=(0,r.g2)("AppearanceCount"),l=(0,r.g2)("PersonCount");return(0,r.uX)(),(0,r.CE)("div",L,[(0,r.Lk)("div",y,[(0,r.bF)(c,{onCharacterSelected:o.handleCharacterSelected},null,8,["onCharacterSelected"])]),(0,r.Lk)("div",b,[(0,r.Lk)("div",w,[(0,r.Lk)("img",{src:s.avatarSrc,alt:"角色头像",class:"avatar"},null,8,x),(0,r.Lk)("p",A,(0,i.v_)(s.characterIntro),1)]),(0,r.Lk)("div",j,[(0,r.bF)(l,{selectedCharacter:s.selectedCharacter},null,8,["selectedCharacter"])])])])}a(2577);const F={id:"lineChart",style:{width:"100%",height:"400px"}};function S(t,e,a,i,n,s){return(0,r.uX)(),(0,r.CE)("div",F)}var E={props:{selectedCharacter:String},data(){return{characterData:null,lineChart:null}},watch:{selectedCharacter(t){this.fetchCharacterData(t)}},methods:{fetchCharacterData(t){t&&fetch("/data_character.json").then((t=>t.json())).then((e=>{const a=e.find((e=>e.name===t));a&&(this.characterData=a.Count.map(((t,e)=>[`第${e+1}章`,t])),this.updateLineChart())})).catch((t=>console.error("加载角色数据失败:",t)))},updateLineChart(){if(this.characterData){const t={title:{text:"角色出现频次",left:"center"},tooltip:{trigger:"axis",formatter:t=>`${t[0].axisValue}: ${t[0].value} 次`},xAxis:{type:"category",data:this.characterData.map((t=>t[0]))},yAxis:{type:"value",name:"频次"},series:[{name:"频次",type:"line",data:this.characterData.map((t=>t[1])),itemStyle:{color:"#a44b3c"}}]};this.lineChart&&this.lineChart.dispose(),this.lineChart=g.init(document.getElementById("lineChart")),this.lineChart.setOption(t)}}},beforeUnmount(){this.lineChart&&this.lineChart.dispose()}};const _=(0,v.A)(E,[["render",S]]);var I=_,O={name:"CharactersIntro",components:{AppearanceCount:k,PersonCount:I},data(){return{avatarSrc:"/avatars/JBY.jpg",characterIntro:"请选择一个角色以查看其简介。",characterData:[],selectedCharacter:null}},mounted(){fetch("/data_character.json").then((t=>t.json())).then((t=>{this.characterData=t,this.updateCharacterInfo(this.selectedCharacter)})).catch((t=>{console.error("获取角色数据时出错：",t)}))},watch:{selectedCharacter(t){this.updateCharacterInfo(t)}},methods:{updateCharacterInfo(t){if(t){const e=this.characterData.find((e=>e.name===t));e?(this.characterIntro=e.background,this.avatarSrc=e.avatar):(this.characterIntro="角色信息未找到。",this.avatarSrc="/avatars/JBY.jpg")}},handleCharacterSelected(t){this.selectedCharacter=t}}};const T=(0,v.A)(O,[["render",D],["__scopeId","data-v-4e693c6e"]]);var N=T,$={name:"view-one",components:{AppearanceCount:k,CharactersIntro:N,CharacterLineChart:I},data(){return{selectedCharacter:null,selectedFamilies:[],families:["贾府","贾府-宁国府","贾府-荣国府","史府","王府","薛府","非四大家族"],minFrequency:null,maxFrequency:null}},methods:{handleCharacterSelected(t){this.selectedCharacter=t},filterData(t,e){this.minFrequency=t,this.maxFrequency=e,this.$refs.appearanceCount?this.$refs.appearanceCount.filterData(t,e,this.selectedFamilies):console.error("AppearanceCount 组件未正确加载")},toggleFamilySelection(t){const e=this.selectedFamilies.indexOf(t);e>-1?this.selectedFamilies.splice(e,1):this.selectedFamilies.push(t);const a=null!==this.minFrequency?this.minFrequency:0,r=null!==this.maxFrequency?this.maxFrequency:4300;this.filterData(a,r)},resetFilter(){this.$refs.appearanceCount?this.$refs.appearanceCount.resetFilter():console.error("AppearanceCount 组件未正确加载")},resetFamilyFilter(){this.selectedFamilies=[],this.filterData(this.minFrequency,this.maxFrequency)}}};const X=(0,v.A)($,[["render",p],["__scopeId","data-v-6b6e183a"]]);var R=X},9915:function(t,e,a){"use strict";a.d(e,{A:function(){return m}});var r=a(6768);const i={class:"view-three",style:{"background-color":"#F5F5DC"}},n={class:"container"},s={class:"class-sun"},o={class:"class-num"};function c(t,e,a,c,l,h){const u=(0,r.g2)("ClassSun"),d=(0,r.g2)("ClassNum");return(0,r.uX)(),(0,r.CE)("div",i,[e[0]||(e[0]=(0,r.Lk)("div",{class:"tittle"},[(0,r.Lk)("h1",null,"人物社会阶级"),(0,r.Lk)("p",null,"贵贱有序，阶级分明。察阶级之分布，明社会之分层。")],-1)),(0,r.Lk)("div",n,[(0,r.Lk)("div",s,[(0,r.bF)(u)]),(0,r.Lk)("div",o,[(0,r.bF)(d)])])])}var l=a(1420),h=a(6833),u={name:"view-three",components:{ClassSun:h.A,ClassNum:l.A}},d=a(1241);const p=(0,d.A)(u,[["render",c],["__scopeId","data-v-79ca0653"]]);var m=p},8283:function(t,e,a){"use strict";a.d(e,{A:function(){return k}});var r=a(6768),i=a(4232);const n={class:"view-two"},s={style:{display:"flex","justify-content":"flex-start",height:"800px","background-color":"#F5F5DC"}},o={class:"right-view",style:{width:"50%","padding-top":"10px","overflow-y":"auto"}},c={style:{"margin-bottom":"10px"}},l=["onClick"],h={style:{"margin-bottom":"20px"}},u={key:0,class:"character-relations"};function d(t,e,a,d,p,m){return(0,r.uX)(),(0,r.CE)("div",n,[e[3]||(e[3]=(0,r.Lk)("h1",null,"人物关系网",-1)),e[4]||(e[4]=(0,r.Lk)("p",null,"人际如网，错综复杂。明关系之脉络，解社会之构造。",-1)),(0,r.Lk)("div",s,[e[2]||(e[2]=(0,r.Lk)("div",{id:"main-t",style:{width:"50%",height:"100%",position:"relative"}},null,-1)),(0,r.Lk)("div",o,[(0,r.Lk)("div",c,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(p.categories,(t=>((0,r.uX)(),(0,r.CE)("div",{key:t,style:{"margin-right":"10px",display:"inline-block"}},[(0,r.Lk)("button",{class:"category-button",style:(0,i.Tr)(p.selectedCategories.includes(t)?{backgroundColor:p.categoryColor[t]}:{}),onClick:e=>m.filterByCategory(t)},(0,i.v_)(t),13,l)])))),128))]),(0,r.Lk)("div",h,[(0,r.Lk)("button",{class:"show-all-button",onClick:e[0]||(e[0]=(...t)=>m.showAllLinks&&m.showAllLinks(...t))},"显示所有关系"),(0,r.Lk)("button",{class:"show-all-button",onClick:e[1]||(e[1]=(...t)=>m.showAllNodes&&m.showAllNodes(...t))},"显示所有节点")]),p.showCharacterRelations?((0,r.uX)(),(0,r.CE)("div",u,[(0,r.Lk)("h3",null,(0,i.v_)(p.currentNodeInfo?.name)+" 的人物关系",1),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(p.currentNodeRelations,(t=>((0,r.uX)(),(0,r.CE)("li",{key:t.name},(0,i.v_)(t.name)+" - "+(0,i.v_)(t.type),1)))),128))])])):(0,r.Q3)("",!0)])])])}a(4114),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698),a(8992),a(4520),a(3949),a(1454),a(7550);var p=a(5090),m=a(6587),g=a.n(m),f={name:"RelativeNetwork",data(){return{categories:["父系亲属","母系亲属","直系亲属","祖孙","夫妻","孙媳","婆媳","堂亲","表亲","宗亲","主仆"],categoryColor:{"父系亲属":"#961c1c","母系亲属":"#bc2c1c","直系亲属":"#d73624","祖孙":"#e44515f1","夫妻":"#e47215f1","孙媳":"#ee9745f1","婆媳":"#eebb45f1","堂亲":"#d6ce33f1","表亲":"#adb812","宗亲":"#8e970f","主仆":"#6e8e46"},families:{},originalGraphData:{nodes:[],links:[]},currentGraph:{},selectedCategories:[],selectedFamilies:[],characterData:{},currentNodeInfo:null,currentNodeRelations:[],showCharacterRelations:!1}},mounted(){this.initChart(),this.myChart.on("click",(t=>{"node"===t.dataType?this.showNodeRelations(t.data):this.hideCharacterRelations()}))},methods:{filterByCategory(t){const e=this.selectedCategories.indexOf(t);e>-1?this.selectedCategories.splice(e,1):this.selectedCategories.push(t);const a=this.originalGraphData.links.filter((t=>this.selectedCategories.includes(t.type))),r=new Set;a.forEach((t=>{r.add(t.source),r.add(t.target)}));const i=this.originalGraphData.nodes.filter((t=>r.has(t.name)));this.currentGraph={nodes:i,links:a},this.updateChart()},showAllLinks(){this.selectedCategories=[],this.currentGraph.links=this.originalGraphData.links,this.updateChart()},showAllNodes(){this.selectedFamilies=[],this.currentGraph.nodes=this.originalGraphData.nodes,this.updateChart()},initChart(){const t=document.getElementById("main-t");this.myChart=p.init(t),this.myChart.showLoading(),Promise.all([g().getJSON("/data_character.json"),g().getJSON("/data_relate.json")]).then((([t,e])=>{console.log("Character Data Loaded:",t),console.log("Network Data Loaded:",e),t.forEach((t=>{this.families[t.Family]?this.families[t.Family].push(t.name):this.families[t.Family]=[t.name],this.characterData[t.name]=t})),e.links.forEach((t=>{t.lineStyle={color:this.categoryColor[t.type]}})),this.originalGraphData=e,this.currentGraph=this.originalGraphData,this.updateChart(),this.myChart.hideLoading()})).catch((t=>{console.error("Error loading data:",t),this.myChart.hideLoading()}))},updateChart(){let t=this.currentGraph;t.nodes.forEach((t=>{t.itemStyle={color:"#9a1a1a"},t.label={show:t.symbolSize>0}}));let e=[];t.nodes.forEach((a=>{t.links.some((t=>t.source===a.name||t.target===a.name))&&e.push(a)})),t.nodes=e;const a={title:{text:"红楼关系网",subtext:"Circular layout",top:"bottom",left:"right"},tooltip:{formatter:t=>"edge"===t.dataType?`${t.data.source} - ${t.data.target}: ${t.data.type}`:t.name},animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",series:[{name:"    ",type:"graph",layout:"circular",circular:{rotateLabel:!0},data:t.nodes,links:t.links,categories:this.categories.map((t=>({name:t}))),roam:!0,label:{position:"right",formatter:"{b}"},lineStyle:{width:3.5,curveness:.3},emphasis:{focus:"adjacency"},select:{itemStyle:{color:"#FF6347"}}}]};this.myChart.setOption(a)},showNodeRelations(t){this.currentNodeInfo=this.characterData[t.name],this.currentNodeRelations=this.getNodeRelations(t.name),this.showCharacterRelations=!0},getNodeRelations(t){const e=[];return this.originalGraphData.links.forEach((a=>{a.source===t?e.push({name:a.target,type:a.type}):a.target===t&&e.push({name:a.source,type:a.type})})),e},hideCharacterRelations(){this.showCharacterRelations=!1,this.currentNodeInfo=null,this.currentNodeRelations=[]}}},v=a(1241);const C=(0,v.A)(f,[["render",d],["__scopeId","data-v-3fc609d8"]]);var k=C},290:function(t,e,a){var r={"./ALL.jpg":5531,"./ALL1.jpg":9126,"./ALL2.jpg":1329,"./ALL3.jpg":9524,"./ALL4.jpg":7807,"./ALL5.jpg":6098,"./ALL6.jpg":5325,"./ALL7.jpg":432,"./ALL8.jpg":4715,"./BK.jpg":9177,"./Link1.jpg":8375,"./Link2.jpg":8392,"./Link3.jpg":2709,"./Link4.jpg":7086,"./Link5.jpg":1483,"./Link6.jpg":6828,"./Link7.jpg":7353,"./Link8.jpg":2866,"./vintage":1811,"./vintage.js":1811};function i(t){var e=n(t);return a(e)}function n(t){if(!a.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=n,t.exports=i,i.id=290},5531:function(t,e,a){"use strict";t.exports=a.p+"img/ALL.8a6224df.jpg"},9126:function(t,e,a){"use strict";t.exports=a.p+"img/ALL1.e3b28bd4.jpg"},1329:function(t,e,a){"use strict";t.exports=a.p+"img/ALL2.94ca5ef4.jpg"},9524:function(t,e,a){"use strict";t.exports=a.p+"img/ALL3.2bb8240c.jpg"},7807:function(t,e,a){"use strict";t.exports=a.p+"img/ALL4.885b6d54.jpg"},6098:function(t,e,a){"use strict";t.exports=a.p+"img/ALL5.8aba34ec.jpg"},5325:function(t,e,a){"use strict";t.exports=a.p+"img/ALL6.8499ee69.jpg"},432:function(t,e,a){"use strict";t.exports=a.p+"img/ALL7.e807b197.jpg"},4715:function(t,e,a){"use strict";t.exports=a.p+"img/ALL8.c19ff4ff.jpg"},9177:function(t,e,a){"use strict";t.exports=a.p+"img/BK.712ba1d2.jpg"},8375:function(t,e,a){"use strict";t.exports=a.p+"img/Link1.e807b197.jpg"},8392:function(t,e,a){"use strict";t.exports=a.p+"img/Link2.1dd81b0a.jpg"},2709:function(t,e,a){"use strict";t.exports=a.p+"img/Link3.4f4d24e3.jpg"},7086:function(t,e,a){"use strict";t.exports=a.p+"img/Link4.f1db75c2.jpg"},1483:function(t,e,a){"use strict";t.exports=a.p+"img/Link5.1846c93e.jpg"},6828:function(t,e,a){"use strict";t.exports=a.p+"img/Link6.642a2a73.jpg"},7353:function(t,e,a){"use strict";t.exports=a.p+"img/Link7.40df27f8.jpg"},2866:function(t,e,a){"use strict";t.exports=a.p+"img/Link8.586f1cc5.jpg"}},e={};function a(r){var i=e[r];if(void 0!==i)return i.exports;var n=e[r]={exports:{}};return t[r].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,r,i,n){if(!r){var s=1/0;for(h=0;h<t.length;h++){r=t[h][0],i=t[h][1],n=t[h][2];for(var o=!0,c=0;c<r.length;c++)(!1&n||s>=n)&&Object.keys(a.O).every((function(t){return a.O[t](r[c])}))?r.splice(c--,1):(o=!1,n<s&&(s=n));if(o){t.splice(h--,1);var l=i();void 0!==l&&(e=l)}}return e}n=n||0;for(var h=t.length;h>0&&t[h-1][2]>n;h--)t[h]=t[h-1];t[h]=[r,i,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/datavs-project/"}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var i,n,s=r[0],o=r[1],c=r[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(c)var h=c(a)}for(e&&e(r);l<s.length;l++)n=s[l],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(h)},r=self["webpackChunk_04_demo"]=self["webpackChunk_04_demo"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(3326)}));r=a.O(r)})();
//# sourceMappingURL=app.1d25084f.js.map